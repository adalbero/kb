<cdk-accordion class="app-accordion">
  <cdk-accordion-item
    *ngFor="let tag of tags; let index = index"
    #accordionItem="cdkAccordionItem"
    class="app-accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-' + index"
    (opened)="onOpen(tag)"
  >
    <div class="app-accordion-item-header" (click)="accordionItem.toggle()">
      #{{ tag.tag }} ({{ tag.count }})
      <span class="app-accordion-item-description">
        <button mat-icon-button>
          <mat-icon
            [ngClass]="{ icon: true, 'icon-expanded': accordionItem.expanded }"
          >
            navigate_next
          </mat-icon>
        </button>
      </span>
    </div>
    <div
      class="app-accordion-item-body"
      role="region"
      [style.display]="accordionItem.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-' + index"
    >
      <mat-nav-list>
        <mat-list-item
          *ngFor="let article of articles"
          [routerLink]="getLink(article)"
        >
          <app-article-nav [article]="article"></app-article-nav>
        </mat-list-item>
      </mat-nav-list>
    </div>
  </cdk-accordion-item>
</cdk-accordion>
